/*!CK:2590063891!*//*1388974933,178127387*/

if (self.CavalryLogger) { CavalryLogger.start_js(["fmdw0"]); }

__d("objPull",["createObjectFrom"],function(a,b,c,d,e,f){"use strict";var g=b('createObjectFrom'),h=function(i){var j=Array.prototype.slice.call(arguments,1);return j.length?g(j,j.map(function(k){return i[k];})):h.bind(null,i);};e.exports=h;});
__d("BrowseLogger",["Banzai","copyProperties","objMap","objPull","Run"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties'),i=b('objMap'),j=b('objPull'),k=b('Run'),l='browse',m='browse_aggr',n=null,o={},p={},q=function(y){if(y==null)return 'undefined';var z=y.tagName.toLowerCase(),aa=y.id,ba=y.className;if(aa)z+='#'+aa;if(ba)z+='.'+ba;return z;};function r(){n=null;o={};p={};}function s(y){h(y,{clientSessionID:n});return y;}function t(y){g.post(l,s(y));}function u(){if(n===null)return;p.aggregated=o;g.post(m,s(p));r();}function v(y){o[y]=(o[y]||0)+1;}function w(y){h(p,y);}k.onUnload(u);var x={newSession:function(){u();n=Math.random().toString();if(!p.start_time)p.start_time=Math.round(Date.now()/1000);},logResultClick:function(y,z,aa,ba){var ca={action:'result_click',click_type:y.ct||'result',section:y.section||'unknown',id:y.id||0,path:y.path||'unknown',rank:y.rank||0,referrer:y.referrer||'unknown',result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,abtest_version:y.abtest_version||'NONE',abtest_params:y.abtest_params,typeahead_sid:y.typeahead_sid||'',result_title:y.result_title||'unknown',result_href:y.result_href||'unknown',result_semantic:y.result_semantic||'unknown',type:y.experience_type||'unknown',click_action:aa,sub_id:y.sub_id,owner_id:y.owner_id};if(z.tn)ca.tn=z.tn;if(y.cst)ca.click_subtype=y.cst;v('result_click_'+ca.click_type);w({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});t(ca);if(!y.id)t({action:'logging_error',click_action:aa,click_type:ca.click_type,attributes:JSON.stringify(y),element:i(j(ba,'srcElement','target','toElement'),q),event:j(ba,'button','clientX','clientY','ctrlKey','layerX','layerY','offsetX','offsetY','pageX','pageY','screenX','screenY','shiftKey','type','x','y')});},logControlsClick:function(y,z){var aa={action:'controls_click',click_type:z,path:y.path||'unknown',referrer:y.referrer||'unknown',session_id:y.session_id||0,query_time:y.query_time,filter_name:y.name||'unknown',typeahead_sid:y.typeahead_sid||'',result_type:y.result_type||'unknown',type:y.experience_type||'unknown'};if(y.cst)aa.click_subtype=y.cst;v('controls_click_'+z);w({path:aa.path,referrer:aa.referrer,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logResultHover:function(y,z){var aa={action:'result_hover',id:y.id||0,path:y.path||'unknown',rank:y.rank,result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,time_elapsed:z,typeahead_sid:y.typeahead_sid||0,type:y.experience_type||'unknown'};v('result_hover');w({path:aa.path,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logScroll:function(y,z,aa,ba){var ca={action:'scroll',encoded_query:y,fragments:z,position:aa,session_id:ba||0};t(ca);},logNUXStep:function(y){var z={action:'nux_step',step:y};t(z);},logDisambiguationImpression:function(y,z,aa,ba,ca){var da={action:'disambiguation_imp',ids:ba,name:y,path:aa,type:z,typeahead_sid:ca};t(da);},logDisambiguationClick:function(y,z,aa,ba,ca,da){var ea={action:'disambiguation_clk',id:ca,index:ba,name:y,path:aa,type:z,typeahead_sid:da};t(ea);}};e.exports=x;});
__d("concatMap",[],function(a,b,c,d,e,f){function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;});
__d("FacebarURI",["URI","Env","FacebarSemanticQuery"],function(a,b,c,d,e,f){var g=b('URI'),h=b('Env'),i=b('FacebarSemanticQuery'),j={getSearchRawPrefix:function(){return 'search';},getSearchPath:function(){return '/'+this.getSearchRawPrefix()+'/';},getURI:function(k,l){var m=null,n=!l.song&&!l.isExtendedResult&&l.path;if(n){m=new g(n);if(l.type=='user')m.addQueryData({fref:'ts'});}else{var o=new i(k,l.semantic);if(o&&o.isImplemented())m=o.getURI();}return m&&j.getQualifiedURI(m);},getQualifiedURI:function(k){var l=new g(k);if(!l.getDomain()){var m=g(h.www_base);l.setProtocol(m.getProtocol()).setDomain(m.getDomain()).setPort(m.getPort());}return l;}};e.exports=j;});